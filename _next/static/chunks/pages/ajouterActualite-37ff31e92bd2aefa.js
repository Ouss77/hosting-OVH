(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{8626:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ajouterActualite",function(){return a(3056)}])},3056:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(4848),s=a(6715),r=a(6540);function i(){let[e,t]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[n,u]=(0,r.useState)(null),[d,c]=(0,r.useState)(""),o=(0,s.useRouter)();(0,r.useEffect)(()=>{document.cookie.includes("authTrue")||o.push("/login")},[o]);let m=async l=>{l.preventDefault();let s=new FormData;s.append("title",e),s.append("description",a),console.log("Image:",n),n&&s.append("image",n);let r=await fetch("/api/addActualite",{method:"POST",body:s});r.ok?(c("Actualit\xe9 added successfully!"),t(""),i(""),u(null)):c((await r.json()).message||"An error occurred.")};return(0,l.jsx)("div",{className:"lg:max-w-3xl mx-auto pt-32 w-5/6 ",children:(0,l.jsxs)("form",{onSubmit:m,className:"bg-gray-100 mt-10 p-10  rounded shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Ajouter une nouvelle Actualit\xe9"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-gray-700",children:"Title"}),(0,l.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"description",className:"block text-gray-700",children:"Description"}),(0,l.jsx)("textarea",{id:"description",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"image",className:"block text-gray-700",children:"Image (optional)"}),(0,l.jsx)("input",{type:"file",id:"image",onChange:e=>u(e.target.files[0]),className:"w-full border p-2 rounded mt-2"})]}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded mt-4 w-full",children:"Add Actualit\xe9"}),d&&(0,l.jsx)("p",{className:"mt-4 text-green-600",children:d})]})})}},6715:(e,t,a)=>{e.exports=a(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(8626)),_N_E=e.O()}]);